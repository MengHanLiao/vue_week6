"use strict";(self["webpackChunkvue_week6"]=self["webpackChunkvue_week6"]||[]).push([[220],{6220:function(a,t,e){e.r(t),e.d(t,{default:function(){return m}});var s=e(3396);const n={class:"navbar navbar-expand-md navbar-dark bg-dark"},o={class:"container-fluid flex flex-md-column"},r=(0,s.Uk)("後臺"),i=(0,s._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,s._)("span",{class:"navbar-toggler-icon"})],-1),l={class:"collapse navbar-collapse",id:"navbarNavAltMarkup"},c={class:"navbar-nav"},u=(0,s.Uk)("返回前台"),d=(0,s.Uk)("產品"),v=(0,s.Uk)("優惠卷"),p=(0,s.Uk)("訂單");function k(a,t,e,k,h,b){const g=(0,s.up)("router-link"),m=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("nav",n,[(0,s._)("div",o,[(0,s.Wm)(g,{class:"navbar-brand",to:"/"},{default:(0,s.w5)((()=>[r])),_:1}),i,(0,s._)("div",l,[(0,s._)("div",c,[(0,s.Wm)(g,{class:"nav-link",to:"/"},{default:(0,s.w5)((()=>[u])),_:1}),(0,s.Wm)(g,{class:"nav-link",to:"/admin/products"},{default:(0,s.w5)((()=>[d])),_:1}),(0,s.Wm)(g,{class:"nav-link",to:"/admin/coupons"},{default:(0,s.w5)((()=>[v])),_:1}),(0,s.Wm)(g,{class:"nav-link",to:"/admin/orders"},{default:(0,s.w5)((()=>[p])),_:1}),(0,s._)("button",{type:"button",class:"btn btn-primary ms-2",onClick:t[0]||(t[0]=(...a)=>b.signout&&b.signout(...a))},"登出")])])])]),h.isLogin?((0,s.wg)(),(0,s.j4)(m,{key:0})):(0,s.kq)("",!0)])}var h={data(){return{isLogin:!1}},methods:{checkLogin(){const a=document.cookie.replace(/(?:(?:^|.*;\s*)vueWeekSixToken\s*=\s*([^;]*).*$)|^.*$/,"$1");a?(this.$http.defaults.headers.common.Authorization=a,this.$http.post("https://vue3-course-api.hexschool.io/v2/api/user/check").then((()=>{this.isLogin=!0})).catch((a=>{alert(a.response.data.message)}))):(this.$router.push("/login"),alert("請先登入"))},signout(){this.$http.post("https://vue3-course-api.hexschool.io/v2/logout").then((()=>{document.cookie="vueWeekSixToken=;expires=;",alert("成功登出"),this.$router.push("/")})).catch((a=>{console.dir(a)}))}},created(){this.checkLogin()}},b=e(89);const g=(0,b.Z)(h,[["render",k]]);var m=g}}]);
//# sourceMappingURL=220.193f6d36.js.map