"use strict";(self["webpackChunkvue_week6"]=self["webpackChunkvue_week6"]||[]).push([[315],{8315:function(e,a,s){s.r(a),s.d(a,{default:function(){return h}});var i=s(3396),l=s(7139);const n={class:"container my-5"},o=(0,i._)("h2",{class:"text-center"},"管理者登入",-1),d={class:"row justify-content-center"},m={class:"mb-3"},r=(0,i._)("label",{for:"adminEmail",class:"form-label"},"Email",-1),t={class:"mb-3"},u=(0,i._)("label",{for:"adminPassword",class:"form-label"},"密碼",-1),c=(0,i._)("button",{type:"submit",class:"btn btn-primary"},"登入",-1);function p(e,a,s,p,f,b){const v=(0,i.up)("v-field"),h=(0,i.up)("error-message"),w=(0,i.up)("v-form");return(0,i.wg)(),(0,i.iD)("div",n,[o,(0,i._)("div",d,[(0,i.Wm)(w,{ref:"form",class:"col-md-4",onSubmit:b.loginSubmit},{default:(0,i.w5)((({errors:e})=>[(0,i._)("div",m,[r,(0,i.Wm)(v,{id:"adminEmail",name:"adminEmail",type:"email",class:(0,l.C_)(["form-control",{"is-invalid":e["adminEmail"]}]),placeholder:"請輸入 Email",rules:"required|email",modelValue:f.admin.username,"onUpdate:modelValue":a[0]||(a[0]=e=>f.admin.username=e)},null,8,["class","modelValue"]),(0,i.Wm)(h,{name:"adminEmail",class:"invalid-feedback"})]),(0,i._)("div",t,[u,(0,i.Wm)(v,{id:"adminPassword",name:"adminPassword",type:"password",class:(0,l.C_)(["form-control",{"is-invalid":e["adminPassword"]}]),placeholder:"請輸入密碼",rules:"required",modelValue:f.admin.password,"onUpdate:modelValue":a[1]||(a[1]=e=>f.admin.password=e)},null,8,["class","modelValue"]),(0,i.Wm)(h,{name:"adminPassword",class:"invalid-feedback"})]),c])),_:1},8,["onSubmit"])])])}var f={data(){return{admin:{username:"",password:""}}},methods:{loginSubmit(){this.$http.post("https://vue3-course-api.hexschool.io/v2/admin/signin",this.admin).then((e=>{console.log(e),alert("成功登入");const{token:a,expired:s}=e.data;document.cookie=`vueWeekSixToken=${a};expires=${new Date(s)};`,this.$router.push("/admin/products")})).catch((e=>{console.dir(e)}))}}},b=s(89);const v=(0,b.Z)(f,[["render",p]]);var h=v}}]);
//# sourceMappingURL=315.400e640d.js.map