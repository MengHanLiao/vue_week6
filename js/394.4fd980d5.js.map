{"version":3,"file":"js/394.4fd980d5.js","mappings":"+LAESA,MAAM,kB,GAEPA,MAAM,yE,GAQCA,MAAM,c,mBAMJA,MAAM,a,GACLA,MAAM,c,GACPA,MAAM,a,GAINA,MAAM,2C,WAKR,Y,oCAYS,W,0EAxCtBC,EAAAA,EAAAA,IAgDM,aA/CJC,EAAAA,EAAAA,GA8CM,MA9CN,EA8CM,EA7CJA,EAAAA,EAAAA,GA4CK,KA5CL,EA4CK,gBApCHD,EAAAA,EAAAA,IAmCKE,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAnC6BC,EAAAA,UAAXC,K,WAAvBL,EAAAA,EAAAA,IAmCK,MAnCDD,MAAM,MAAmCO,IAAKD,EAAQE,IAA1D,EACEN,EAAAA,EAAAA,GAiCM,MAjCN,EAiCM,EAhCJA,EAAAA,EAAAA,GAIE,OAHCO,IAAKH,EAAQI,SACdV,MAAM,eACLW,IAAKL,EAAQM,OAHhB,WAKAV,EAAAA,EAAAA,GAKM,MALN,EAKM,EAJJA,EAAAA,EAAAA,GAA+C,KAA/C,GAA+CW,EAAAA,EAAAA,IAArBP,EAAQM,OAAK,IACvCV,EAAAA,EAAAA,GAEI,IAFJ,GAEIW,EAAAA,EAAAA,IADCP,EAAQQ,aAAW,MAG1BZ,EAAAA,EAAAA,GAoBM,MApBN,EAoBM,EAnBJa,EAAAA,EAAAA,IAMcC,EAAA,CALZC,KAAK,SACLjB,MAAM,qCACLkB,GAAE,YAAcZ,EAAQE,MAH3B,C,kBAIC,IAED,M,KANA,cAOAN,EAAAA,EAAAA,GAWS,UAVPe,KAAK,SACLjB,MAAM,uBACLmB,QAAK,GAAEC,EAAAA,UAAUd,EAAQE,IACzBa,SAAUf,EAAQE,KAAKH,EAAAA,eAJ1B,EAMEH,EAAAA,EAAAA,GAGQ,QAFNF,OAAK,SAAC,8CAA6C,mBACvBM,EAAQE,KAAOH,EAAAA,kBAF7C,WANF,cArBN,YAkDR,OACEiB,OACE,MAAO,CACLC,SAAU,GACVC,cAAe,KAGnBC,QAAS,CACPC,kBACEC,KAAKC,MACFC,IACE,oEAEFC,MAAMC,IACLJ,KAAKJ,SAAWQ,EAAST,KAAKC,YAE/BS,OAAOC,IACNC,MAAMD,EAAIF,SAAST,KAAKa,aAG9BC,UAAU5B,EAAI6B,EAAM,GAClBV,KAAKH,cAAgBhB,EACrB,MAAMc,EAAO,CACXgB,WAAY9B,EACZ6B,IAAAA,GAEFV,KAAKC,MACFW,KACE,2DACD,CAAEjB,KAAAA,IAEHQ,MAAK,KACJI,MAAM,WACNP,KAAKH,cAAgB,MAEtBQ,OAAOC,IACNO,QAAQC,IAAIR,QAIpBS,UACEf,KAAKD,oB,QC/FT,MAAMiB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE","sources":["webpack://vue_week6/./src/views/ProductsView.vue","webpack://vue_week6/./src/views/ProductsView.vue?91db"],"sourcesContent":["<template>\n  <div>\n    <div class=\"container my-5\">\n      <ul\n        class=\"\n          row\n          align-content-stretch\n          row-cols-1 row-cols-md-2 row-cols-lg-4\n          gy-4\n        \"\n      >\n        <li class=\"col\" v-for=\"product in products\" :key=\"product.id\">\n          <div class=\"card h-100\">\n            <img\n              :src=\"product.imageUrl\"\n              class=\"card-img-top\"\n              :alt=\"product.title\"\n            />\n            <div class=\"card-body\">\n              <h5 class=\"card-title\">{{ product.title }}</h5>\n              <p class=\"card-text\">\n                {{ product.description }}\n              </p>\n            </div>\n            <div class=\"card-footer bg-transparent border-top-0\">\n              <router-link\n                type=\"button\"\n                class=\"btn btn-outline-primary w-100 mb-2\"\n                :to=\"`/product/${product.id}`\"\n              >\n                查看更多資訊\n              </router-link>\n              <button\n                type=\"button\"\n                class=\"btn btn-danger w-100\"\n                @click=\"addToCart(product.id)\"\n                :disabled=\"product.id===isLoadingItem\"\n              >\n                <span\n                  class=\"spinner-border spinner-border-sm text-light\"\n                  :class=\"{'visually-hidden': product.id !== isLoadingItem}\"\n                ></span>\n                加入購物車\n              </button>\n            </div>\n          </div>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<style>\n.card-img-top {\n  width: auto;\n  height: 12rem;\n  object-fit: cover;\n}\n</style>\n\n<script>\nexport default {\n  data() {\n    return {\n      products: [],\n      isLoadingItem: '',\n    };\n  },\n  methods: {\n    getProductsData() {\n      this.$http\n        .get(\n          `${process.env.VUE_APP_API_BASEURL}api/${process.env.VUE_APP_PATH}/products/all`,\n        )\n        .then((response) => {\n          this.products = response.data.products;\n        })\n        .catch((err) => {\n          alert(err.response.data.message);\n        });\n    },\n    addToCart(id, qty = 1) {\n      this.isLoadingItem = id;\n      const data = {\n        product_id: id,\n        qty,\n      };\n      this.$http\n        .post(\n          `${process.env.VUE_APP_API_BASEURL}api/${process.env.VUE_APP_PATH}/cart`,\n          { data },\n        )\n        .then(() => {\n          alert('成功加入購物車');\n          this.isLoadingItem = '';\n        })\n        .catch((err) => {\n          console.dir(err);\n        });\n    },\n  },\n  mounted() {\n    this.getProductsData();\n  },\n};\n</script>\n","import { render } from \"./ProductsView.vue?vue&type=template&id=795b4f37\"\nimport script from \"./ProductsView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsView.vue?vue&type=script&lang=js\"\n\nimport \"./ProductsView.vue?vue&type=style&index=0&id=795b4f37&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\s1102\\\\OneDrive\\\\桌面\\\\vue_cli\\\\vue_week6\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_createElementVNode","_Fragment","_renderList","$data","product","key","id","src","imageUrl","alt","title","_toDisplayString","description","_createVNode","_component_router_link","type","to","onClick","$options","disabled","data","products","isLoadingItem","methods","getProductsData","this","$http","get","then","response","catch","err","alert","message","addToCart","qty","product_id","post","console","dir","mounted","__exports__","render"],"sourceRoot":""}