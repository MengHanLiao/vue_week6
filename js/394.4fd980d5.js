"use strict";(self["webpackChunkvue_week6"]=self["webpackChunkvue_week6"]||[]).push([[394],{8394:function(t,s,e){e.r(s),e.d(s,{default:function(){return k}});var a=e(3396),o=e(7139);const i={class:"container my-5"},r={class:"row align-content-stretch row-cols-1 row-cols-md-2 row-cols-lg-4 gy-4"},c={class:"card h-100"},d=["src","alt"],n={class:"card-body"},l={class:"card-title"},u={class:"card-text"},p={class:"card-footer bg-transparent border-top-0"},h=(0,a.Uk)(" 查看更多資訊 "),g=["onClick","disabled"],m=(0,a.Uk)(" 加入購物車 ");function b(t,s,e,b,w,v){const _=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",i,[(0,a._)("ul",r,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(w.products,(t=>((0,a.wg)(),(0,a.iD)("li",{class:"col",key:t.id},[(0,a._)("div",c,[(0,a._)("img",{src:t.imageUrl,class:"card-img-top",alt:t.title},null,8,d),(0,a._)("div",n,[(0,a._)("h5",l,(0,o.zw)(t.title),1),(0,a._)("p",u,(0,o.zw)(t.description),1)]),(0,a._)("div",p,[(0,a.Wm)(_,{type:"button",class:"btn btn-outline-primary w-100 mb-2",to:`/product/${t.id}`},{default:(0,a.w5)((()=>[h])),_:2},1032,["to"]),(0,a._)("button",{type:"button",class:"btn btn-danger w-100",onClick:s=>v.addToCart(t.id),disabled:t.id===w.isLoadingItem},[(0,a._)("span",{class:(0,o.C_)(["spinner-border spinner-border-sm text-light",{"visually-hidden":t.id!==w.isLoadingItem}])},null,2),m],8,g)])])])))),128))])])])}var w={data(){return{products:[],isLoadingItem:""}},methods:{getProductsData(){this.$http.get("https://vue3-course-api.hexschool.io/v2/api/meng001/products/all").then((t=>{this.products=t.data.products})).catch((t=>{alert(t.response.data.message)}))},addToCart(t,s=1){this.isLoadingItem=t;const e={product_id:t,qty:s};this.$http.post("https://vue3-course-api.hexschool.io/v2/api/meng001/cart",{data:e}).then((()=>{alert("成功加入購物車"),this.isLoadingItem=""})).catch((t=>{console.dir(t)}))}},mounted(){this.getProductsData()}},v=e(89);const _=(0,v.Z)(w,[["render",b]]);var k=_}}]);
//# sourceMappingURL=394.4fd980d5.js.map